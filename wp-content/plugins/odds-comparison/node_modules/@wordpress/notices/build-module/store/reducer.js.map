{"version":3,"sources":["@wordpress/notices/src/store/reducer.js"],"names":["onSubKey","notices","state","action","type","filter","id","notice","ids","includes","noticeType"],"mappings":"AAAA;AACA;AACA;AACA,OAAOA,QAAP,MAAqB,oBAArB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,MAAMC,OAAO,GAAGD,QAAQ,CAAE,SAAF,CAAR,CAAuB,CAAEE,KAAK,GAAG,EAAV,EAAcC,MAAd,KAA0B;AAChE,UAASA,MAAM,CAACC,IAAhB;AACC,SAAK,eAAL;AACC;AACA,aAAO,CACN,GAAGF,KAAK,CAACG,MAAN,CAAc,CAAE;AAAEC,QAAAA;AAAF,OAAF,KAAcA,EAAE,KAAKH,MAAM,CAACI,MAAP,CAAcD,EAAjD,CADG,EAENH,MAAM,CAACI,MAFD,CAAP;;AAKD,SAAK,eAAL;AACC,aAAOL,KAAK,CAACG,MAAN,CAAc,CAAE;AAAEC,QAAAA;AAAF,OAAF,KAAcA,EAAE,KAAKH,MAAM,CAACG,EAA1C,CAAP;;AAED,SAAK,gBAAL;AACC,aAAOJ,KAAK,CAACG,MAAN,CAAc,CAAE;AAAEC,QAAAA;AAAF,OAAF,KAAc,CAAEH,MAAM,CAACK,GAAP,CAAWC,QAAX,CAAqBH,EAArB,CAA9B,CAAP;;AAED,SAAK,oBAAL;AACC,aAAOJ,KAAK,CAACG,MAAN,CAAc,CAAE;AAAED,QAAAA;AAAF,OAAF,KAAgBA,IAAI,KAAKD,MAAM,CAACO,UAA9C,CAAP;AAfF;;AAkBA,SAAOR,KAAP;AACA,CApBe,CAAhB;AAsBA,eAAeD,OAAf","sourcesContent":["/**\n * Internal dependencies\n */\nimport onSubKey from './utils/on-sub-key';\n\n/**\n * Reducer returning the next notices state. The notices state is an object\n * where each key is a context, its value an array of notice objects.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nconst notices = onSubKey( 'context' )( ( state = [], action ) => {\n\tswitch ( action.type ) {\n\t\tcase 'CREATE_NOTICE':\n\t\t\t// Avoid duplicates on ID.\n\t\t\treturn [\n\t\t\t\t...state.filter( ( { id } ) => id !== action.notice.id ),\n\t\t\t\taction.notice,\n\t\t\t];\n\n\t\tcase 'REMOVE_NOTICE':\n\t\t\treturn state.filter( ( { id } ) => id !== action.id );\n\n\t\tcase 'REMOVE_NOTICES':\n\t\t\treturn state.filter( ( { id } ) => ! action.ids.includes( id ) );\n\n\t\tcase 'REMOVE_ALL_NOTICES':\n\t\t\treturn state.filter( ( { type } ) => type !== action.noticeType );\n\t}\n\n\treturn state;\n} );\n\nexport default notices;\n"]}