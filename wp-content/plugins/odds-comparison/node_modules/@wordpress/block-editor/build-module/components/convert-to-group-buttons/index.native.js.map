{"version":3,"sources":["@wordpress/block-editor/src/components/convert-to-group-buttons/index.native.js"],"names":["__","_x","switchToBlockType","useDispatch","store","noticesStore","blockEditorStore","useConvertToGroupButtonProps","useConvertToGroupButtons","clientIds","onUngroup","blocksSelection","groupingBlockName","replaceBlocks","createSuccessNotice","onConvertToGroup","newBlocks","onConvertFromGroup","innerBlocks","length","attributes","group","id","label","value","onSelect","ungroup"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,EAAT,EAAaC,EAAb,QAAuB,iBAAvB;AACA,SAASC,iBAAT,QAAkC,mBAAlC;AACA,SAASC,WAAT,QAA4B,iBAA5B;AACA,SAASC,KAAK,IAAIC,YAAlB,QAAsC,oBAAtC;AAEA;AACA;AACA;;AACA,SAASD,KAAK,IAAIE,gBAAlB,QAA0C,aAA1C;AACA,OAAOC,4BAAP,MAAyC,qCAAzC;;AAEA,SAASC,wBAAT,CAAmC;AAClCC,EAAAA,SADkC;AAElCC,EAAAA,SAFkC;AAGlCC,EAAAA,eAHkC;AAIlCC,EAAAA;AAJkC,CAAnC,EAKI;AACH,QAAM;AAAEC,IAAAA;AAAF,MAAoBV,WAAW,CAAEG,gBAAF,CAArC;AACA,QAAM;AAAEQ,IAAAA;AAAF,MAA0BX,WAAW,CAAEE,YAAF,CAA3C;;AACA,QAAMU,gBAAgB,GAAG,MAAM;AAC9B;AACA,UAAMC,SAAS,GAAGd,iBAAiB,CAClCS,eADkC,EAElCC,iBAFkC,CAAnC;;AAIA,QAAKI,SAAL,EAAiB;AAChBH,MAAAA,aAAa,CAAEJ,SAAF,EAAaO,SAAb,CAAb;AACA;AACD,GATD;;AAWA,QAAMC,kBAAkB,GAAG,MAAM;AAChC,QAAIC,WAAW,GAAGP,eAAe,CAAE,CAAF,CAAf,CAAqBO,WAAvC;;AACA,QAAK,CAAEA,WAAW,CAACC,MAAnB,EAA4B;AAC3B;AACA;;AACD,QAAKT,SAAL,EAAiB;AAChBQ,MAAAA,WAAW,GAAGR,SAAS,CACtBC,eAAe,CAAE,CAAF,CAAf,CAAqBS,UADC,EAEtBT,eAAe,CAAE,CAAF,CAAf,CAAqBO,WAFC,CAAvB;AAIA;;AACDL,IAAAA,aAAa,CAAEJ,SAAF,EAAaS,WAAb,CAAb;AACA,GAZD;;AAcA,SAAO;AACNG,IAAAA,KAAK,EAAE;AACNC,MAAAA,EAAE,EAAE,mBADE;AAENC,MAAAA,KAAK,EAAEtB,EAAE,CAAE,OAAF,EAAW,MAAX,CAFH;AAGNuB,MAAAA,KAAK,EAAE,mBAHD;AAINC,MAAAA,QAAQ,EAAE,MAAM;AACfV,QAAAA,gBAAgB;AAChBD,QAAAA,mBAAmB,EAClB;AACAd,QAAAA,EAAE,CAAE,eAAF,CAFgB,CAAnB;AAIA;AAVK,KADD;AAaN0B,IAAAA,OAAO,EAAE;AACRJ,MAAAA,EAAE,EAAE,qBADI;AAERC,MAAAA,KAAK,EAAEtB,EAAE,CACR,SADQ,EAER,8FAFQ,CAFD;AAMRuB,MAAAA,KAAK,EAAE,qBANC;AAORC,MAAAA,QAAQ,EAAE,MAAM;AACfR,QAAAA,kBAAkB;AAClBH,QAAAA,mBAAmB,EAClB;AACAd,QAAAA,EAAE,CAAE,iBAAF,CAFgB,CAAnB;AAIA;AAbO;AAbH,GAAP;AA6BA;;AAED,SAASQ,wBAAT,EAAmCD,4BAAnC","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __, _x } from '@wordpress/i18n';\nimport { switchToBlockType } from '@wordpress/blocks';\nimport { useDispatch } from '@wordpress/data';\nimport { store as noticesStore } from '@wordpress/notices';\n\n/**\n * Internal dependencies\n */\nimport { store as blockEditorStore } from '../../store';\nimport useConvertToGroupButtonProps from './use-convert-to-group-button-props';\n\nfunction useConvertToGroupButtons( {\n\tclientIds,\n\tonUngroup,\n\tblocksSelection,\n\tgroupingBlockName,\n} ) {\n\tconst { replaceBlocks } = useDispatch( blockEditorStore );\n\tconst { createSuccessNotice } = useDispatch( noticesStore );\n\tconst onConvertToGroup = () => {\n\t\t// Activate the `transform` on the Grouping Block which does the conversion.\n\t\tconst newBlocks = switchToBlockType(\n\t\t\tblocksSelection,\n\t\t\tgroupingBlockName\n\t\t);\n\t\tif ( newBlocks ) {\n\t\t\treplaceBlocks( clientIds, newBlocks );\n\t\t}\n\t};\n\n\tconst onConvertFromGroup = () => {\n\t\tlet innerBlocks = blocksSelection[ 0 ].innerBlocks;\n\t\tif ( ! innerBlocks.length ) {\n\t\t\treturn;\n\t\t}\n\t\tif ( onUngroup ) {\n\t\t\tinnerBlocks = onUngroup(\n\t\t\t\tblocksSelection[ 0 ].attributes,\n\t\t\t\tblocksSelection[ 0 ].innerBlocks\n\t\t\t);\n\t\t}\n\t\treplaceBlocks( clientIds, innerBlocks );\n\t};\n\n\treturn {\n\t\tgroup: {\n\t\t\tid: 'groupButtonOption',\n\t\t\tlabel: _x( 'Group', 'verb' ),\n\t\t\tvalue: 'groupButtonOption',\n\t\t\tonSelect: () => {\n\t\t\t\tonConvertToGroup();\n\t\t\t\tcreateSuccessNotice(\n\t\t\t\t\t// translators: displayed right after the block is grouped\n\t\t\t\t\t__( 'Block grouped' )\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\tungroup: {\n\t\t\tid: 'ungroupButtonOption',\n\t\t\tlabel: _x(\n\t\t\t\t'Ungroup',\n\t\t\t\t'Ungrouping blocks from within a grouping block back into individual blocks within the Editor'\n\t\t\t),\n\t\t\tvalue: 'ungroupButtonOption',\n\t\t\tonSelect: () => {\n\t\t\t\tonConvertFromGroup();\n\t\t\t\tcreateSuccessNotice(\n\t\t\t\t\t// translators: displayed right after the block is ungrouped.\n\t\t\t\t\t__( 'Block ungrouped' )\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t};\n}\n\nexport { useConvertToGroupButtons, useConvertToGroupButtonProps };\n"]}