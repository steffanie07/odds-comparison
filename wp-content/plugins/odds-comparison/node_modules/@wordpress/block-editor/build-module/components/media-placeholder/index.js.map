{"version":3,"sources":["@wordpress/block-editor/src/components/media-placeholder/index.js"],"names":["classnames","Button","FormFileUpload","Placeholder","DropZone","withFilters","__","useState","useEffect","useSelect","keyboardReturn","pasteHandler","deprecated","MediaUpload","MediaUploadCheck","URLPopover","store","blockEditorStore","noop","InsertFromURLPopover","src","onChange","onSubmit","onClose","popoverAnchor","URLSelectionUI","isURLInputVisible","onChangeSrc","onSubmitSrc","openURLInput","closeURLInput","setPopoverAnchor","MediaPlaceholder","value","allowedTypes","className","icon","labels","mediaPreview","notices","isAppender","accept","addToGallery","multiple","handleUpload","disableDropZone","disableMediaButtons","onError","onSelect","onCancel","onSelectURL","onToggleFeaturedImage","onDoubleClick","onFilesPreUpload","onHTMLDrop","deprecatedOnHTMLDrop","children","mediaLibraryButton","placeholder","style","since","version","mediaUpload","select","getSettings","setSrc","setIsURLInputVisible","onlyAllowsImages","length","every","allowedType","startsWith","event","target","preventDefault","onFilesUpload","files","setMedia","lastMediaPassed","newMedia","filteredMedia","filter","item","id","some","Number","urlSlug","url","includes","concat","map","media","cutOffIndex","lastIndexOf","slice","filesList","onFileChange","handleBlocksDrop","blocks","Array","isArray","recursivelyFindMediaFromBlocks","_blocks","flatMap","block","name","attributes","innerBlocks","mediaBlocks","uploadedMediaList","Promise","all","resolve","reject","window","fetch","then","response","blob","additionalData","title","alt_text","alt","caption","catch","err","HTML","onUpload","defaultRenderPlaceholder","content","instructions","undefined","typesAllowed","firstAllowedType","isOneType","isAudio","isImage","isVideo","placeholderClassName","renderPlaceholder","renderDropZone","renderCancelLink","renderUrlSelectionUI","renderFeaturedImageToggle","renderMediaUploadChecked","defaultButton","open","libraryButton","uploadMediaLibraryButton","openFileDialog"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tButton,\n\tFormFileUpload,\n\tPlaceholder,\n\tDropZone,\n\twithFilters,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useState, useEffect } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\nimport { keyboardReturn } from '@wordpress/icons';\nimport { pasteHandler } from '@wordpress/blocks';\nimport deprecated from '@wordpress/deprecated';\n\n/**\n * Internal dependencies\n */\nimport MediaUpload from '../media-upload';\nimport MediaUploadCheck from '../media-upload/check';\nimport URLPopover from '../url-popover';\nimport { store as blockEditorStore } from '../../store';\n\nconst noop = () => {};\n\nconst InsertFromURLPopover = ( {\n\tsrc,\n\tonChange,\n\tonSubmit,\n\tonClose,\n\tpopoverAnchor,\n} ) => (\n\t<URLPopover anchor={ popoverAnchor } onClose={ onClose }>\n\t\t<form\n\t\t\tclassName=\"block-editor-media-placeholder__url-input-form\"\n\t\t\tonSubmit={ onSubmit }\n\t\t>\n\t\t\t<input\n\t\t\t\tclassName=\"block-editor-media-placeholder__url-input-field\"\n\t\t\t\ttype=\"text\"\n\t\t\t\taria-label={ __( 'URL' ) }\n\t\t\t\tplaceholder={ __( 'Paste or type URL' ) }\n\t\t\t\tonChange={ onChange }\n\t\t\t\tvalue={ src }\n\t\t\t/>\n\t\t\t<Button\n\t\t\t\tclassName=\"block-editor-media-placeholder__url-input-submit-button\"\n\t\t\t\ticon={ keyboardReturn }\n\t\t\t\tlabel={ __( 'Apply' ) }\n\t\t\t\ttype=\"submit\"\n\t\t\t/>\n\t\t</form>\n\t</URLPopover>\n);\n\nconst URLSelectionUI = ( {\n\tisURLInputVisible,\n\tsrc,\n\tonChangeSrc,\n\tonSubmitSrc,\n\topenURLInput,\n\tcloseURLInput,\n} ) => {\n\t// Use internal state instead of a ref to make sure that the component\n\t// re-renders when the popover's anchor updates.\n\tconst [ popoverAnchor, setPopoverAnchor ] = useState( null );\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"block-editor-media-placeholder__url-input-container\"\n\t\t\tref={ setPopoverAnchor }\n\t\t>\n\t\t\t<Button\n\t\t\t\tclassName=\"block-editor-media-placeholder__button\"\n\t\t\t\tonClick={ openURLInput }\n\t\t\t\tisPressed={ isURLInputVisible }\n\t\t\t\tvariant=\"tertiary\"\n\t\t\t>\n\t\t\t\t{ __( 'Insert from URL' ) }\n\t\t\t</Button>\n\t\t\t{ isURLInputVisible && (\n\t\t\t\t<InsertFromURLPopover\n\t\t\t\t\tsrc={ src }\n\t\t\t\t\tonChange={ onChangeSrc }\n\t\t\t\t\tonSubmit={ onSubmitSrc }\n\t\t\t\t\tonClose={ closeURLInput }\n\t\t\t\t\tpopoverAnchor={ popoverAnchor }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</div>\n\t);\n};\n\nexport function MediaPlaceholder( {\n\tvalue = {},\n\tallowedTypes,\n\tclassName,\n\ticon,\n\tlabels = {},\n\tmediaPreview,\n\tnotices,\n\tisAppender,\n\taccept,\n\taddToGallery,\n\tmultiple = false,\n\thandleUpload = true,\n\tdisableDropZone,\n\tdisableMediaButtons,\n\tonError,\n\tonSelect,\n\tonCancel,\n\tonSelectURL,\n\tonToggleFeaturedImage,\n\tonDoubleClick,\n\tonFilesPreUpload = noop,\n\tonHTMLDrop: deprecatedOnHTMLDrop,\n\tchildren,\n\tmediaLibraryButton,\n\tplaceholder,\n\tstyle,\n} ) {\n\tif ( deprecatedOnHTMLDrop ) {\n\t\tdeprecated( 'wp.blockEditor.MediaPlaceholder onHTMLDrop prop', {\n\t\t\tsince: '6.2',\n\t\t\tversion: '6.4',\n\t\t} );\n\t}\n\n\tconst mediaUpload = useSelect( ( select ) => {\n\t\tconst { getSettings } = select( blockEditorStore );\n\t\treturn getSettings().mediaUpload;\n\t}, [] );\n\tconst [ src, setSrc ] = useState( '' );\n\tconst [ isURLInputVisible, setIsURLInputVisible ] = useState( false );\n\n\tuseEffect( () => {\n\t\tsetSrc( value?.src ?? '' );\n\t}, [ value?.src ] );\n\n\tconst onlyAllowsImages = () => {\n\t\tif ( ! allowedTypes || allowedTypes.length === 0 ) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn allowedTypes.every(\n\t\t\t( allowedType ) =>\n\t\t\t\tallowedType === 'image' || allowedType.startsWith( 'image/' )\n\t\t);\n\t};\n\n\tconst onChangeSrc = ( event ) => {\n\t\tsetSrc( event.target.value );\n\t};\n\n\tconst openURLInput = () => {\n\t\tsetIsURLInputVisible( true );\n\t};\n\tconst closeURLInput = () => {\n\t\tsetIsURLInputVisible( false );\n\t};\n\n\tconst onSubmitSrc = ( event ) => {\n\t\tevent.preventDefault();\n\t\tif ( src && onSelectURL ) {\n\t\t\tonSelectURL( src );\n\t\t\tcloseURLInput();\n\t\t}\n\t};\n\n\tconst onFilesUpload = ( files ) => {\n\t\tif ( ! handleUpload ) {\n\t\t\treturn onSelect( files );\n\t\t}\n\t\tonFilesPreUpload( files );\n\t\tlet setMedia;\n\t\tif ( multiple ) {\n\t\t\tif ( addToGallery ) {\n\t\t\t\t// Since the setMedia function runs multiple times per upload group\n\t\t\t\t// and is passed newMedia containing every item in its group each time, we must\n\t\t\t\t// filter out whatever this upload group had previously returned to the\n\t\t\t\t// gallery before adding and returning the image array with replacement newMedia\n\t\t\t\t// values.\n\n\t\t\t\t// Define an array to store urls from newMedia between subsequent function calls.\n\t\t\t\tlet lastMediaPassed = [];\n\t\t\t\tsetMedia = ( newMedia ) => {\n\t\t\t\t\t// Remove any images this upload group is responsible for (lastMediaPassed).\n\t\t\t\t\t// Their replacements are contained in newMedia.\n\t\t\t\t\tconst filteredMedia = ( value ?? [] ).filter( ( item ) => {\n\t\t\t\t\t\t// If Item has id, only remove it if lastMediaPassed has an item with that id.\n\t\t\t\t\t\tif ( item.id ) {\n\t\t\t\t\t\t\treturn ! lastMediaPassed.some(\n\t\t\t\t\t\t\t\t// Be sure to convert to number for comparison.\n\t\t\t\t\t\t\t\t( { id } ) => Number( id ) === Number( item.id )\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// Compare transient images via .includes since gallery may append extra info onto the url.\n\t\t\t\t\t\treturn ! lastMediaPassed.some( ( { urlSlug } ) =>\n\t\t\t\t\t\t\titem.url.includes( urlSlug )\n\t\t\t\t\t\t);\n\t\t\t\t\t} );\n\t\t\t\t\t// Return the filtered media array along with newMedia.\n\t\t\t\t\tonSelect( filteredMedia.concat( newMedia ) );\n\t\t\t\t\t// Reset lastMediaPassed and set it with ids and urls from newMedia.\n\t\t\t\t\tlastMediaPassed = newMedia.map( ( media ) => {\n\t\t\t\t\t\t// Add everything up to '.fileType' to compare via .includes.\n\t\t\t\t\t\tconst cutOffIndex = media.url.lastIndexOf( '.' );\n\t\t\t\t\t\tconst urlSlug = media.url.slice( 0, cutOffIndex );\n\t\t\t\t\t\treturn { id: media.id, urlSlug };\n\t\t\t\t\t} );\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tsetMedia = onSelect;\n\t\t\t}\n\t\t} else {\n\t\t\tsetMedia = ( [ media ] ) => onSelect( media );\n\t\t}\n\t\tmediaUpload( {\n\t\t\tallowedTypes,\n\t\t\tfilesList: files,\n\t\t\tonFileChange: setMedia,\n\t\t\tonError,\n\t\t} );\n\t};\n\n\tasync function handleBlocksDrop( blocks ) {\n\t\tif ( ! blocks || ! Array.isArray( blocks ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tfunction recursivelyFindMediaFromBlocks( _blocks ) {\n\t\t\treturn _blocks.flatMap( ( block ) =>\n\t\t\t\t( block.name === 'core/image' ||\n\t\t\t\t\tblock.name === 'core/audio' ||\n\t\t\t\t\tblock.name === 'core/video' ) &&\n\t\t\t\tblock.attributes.url\n\t\t\t\t\t? [ block ]\n\t\t\t\t\t: recursivelyFindMediaFromBlocks( block.innerBlocks )\n\t\t\t);\n\t\t}\n\n\t\tconst mediaBlocks = recursivelyFindMediaFromBlocks( blocks );\n\n\t\tif ( ! mediaBlocks.length ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst uploadedMediaList = await Promise.all(\n\t\t\tmediaBlocks.map( ( block ) =>\n\t\t\t\tblock.attributes.id\n\t\t\t\t\t? block.attributes\n\t\t\t\t\t: new Promise( ( resolve, reject ) => {\n\t\t\t\t\t\t\twindow\n\t\t\t\t\t\t\t\t.fetch( block.attributes.url )\n\t\t\t\t\t\t\t\t.then( ( response ) => response.blob() )\n\t\t\t\t\t\t\t\t.then( ( blob ) =>\n\t\t\t\t\t\t\t\t\tmediaUpload( {\n\t\t\t\t\t\t\t\t\t\tfilesList: [ blob ],\n\t\t\t\t\t\t\t\t\t\tadditionalData: {\n\t\t\t\t\t\t\t\t\t\t\ttitle: block.attributes.title,\n\t\t\t\t\t\t\t\t\t\t\talt_text: block.attributes.alt,\n\t\t\t\t\t\t\t\t\t\t\tcaption: block.attributes.caption,\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tonFileChange: ( [ media ] ) => {\n\t\t\t\t\t\t\t\t\t\t\tif ( media.id ) {\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( media );\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tallowedTypes,\n\t\t\t\t\t\t\t\t\t\tonError: reject,\n\t\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t.catch( () => resolve( block.attributes.url ) );\n\t\t\t\t\t  } )\n\t\t\t)\n\t\t).catch( ( err ) => onError( err ) );\n\n\t\tif ( multiple ) {\n\t\t\tonSelect( uploadedMediaList );\n\t\t} else {\n\t\t\tonSelect( uploadedMediaList[ 0 ] );\n\t\t}\n\t}\n\n\tasync function onHTMLDrop( HTML ) {\n\t\tconst blocks = pasteHandler( { HTML } );\n\t\treturn await handleBlocksDrop( blocks );\n\t}\n\n\tconst onUpload = ( event ) => {\n\t\tonFilesUpload( event.target.files );\n\t};\n\n\tconst defaultRenderPlaceholder = ( content ) => {\n\t\tlet { instructions, title } = labels;\n\n\t\tif ( ! mediaUpload && ! onSelectURL ) {\n\t\t\tinstructions = __(\n\t\t\t\t'To edit this block, you need permission to upload media.'\n\t\t\t);\n\t\t}\n\n\t\tif ( instructions === undefined || title === undefined ) {\n\t\t\tconst typesAllowed = allowedTypes ?? [];\n\n\t\t\tconst [ firstAllowedType ] = typesAllowed;\n\t\t\tconst isOneType = 1 === typesAllowed.length;\n\t\t\tconst isAudio = isOneType && 'audio' === firstAllowedType;\n\t\t\tconst isImage = isOneType && 'image' === firstAllowedType;\n\t\t\tconst isVideo = isOneType && 'video' === firstAllowedType;\n\n\t\t\tif ( instructions === undefined && mediaUpload ) {\n\t\t\t\tinstructions = __(\n\t\t\t\t\t'Upload a media file or pick one from your media library.'\n\t\t\t\t);\n\n\t\t\t\tif ( isAudio ) {\n\t\t\t\t\tinstructions = __(\n\t\t\t\t\t\t'Upload an audio file, pick one from your media library, or add one with a URL.'\n\t\t\t\t\t);\n\t\t\t\t} else if ( isImage ) {\n\t\t\t\t\tinstructions = __(\n\t\t\t\t\t\t'Upload an image file, pick one from your media library, or add one with a URL.'\n\t\t\t\t\t);\n\t\t\t\t} else if ( isVideo ) {\n\t\t\t\t\tinstructions = __(\n\t\t\t\t\t\t'Upload a video file, pick one from your media library, or add one with a URL.'\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( title === undefined ) {\n\t\t\t\ttitle = __( 'Media' );\n\n\t\t\t\tif ( isAudio ) {\n\t\t\t\t\ttitle = __( 'Audio' );\n\t\t\t\t} else if ( isImage ) {\n\t\t\t\t\ttitle = __( 'Image' );\n\t\t\t\t} else if ( isVideo ) {\n\t\t\t\t\ttitle = __( 'Video' );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst placeholderClassName = classnames(\n\t\t\t'block-editor-media-placeholder',\n\t\t\tclassName,\n\t\t\t{\n\t\t\t\t'is-appender': isAppender,\n\t\t\t}\n\t\t);\n\n\t\treturn (\n\t\t\t<Placeholder\n\t\t\t\ticon={ icon }\n\t\t\t\tlabel={ title }\n\t\t\t\tinstructions={ instructions }\n\t\t\t\tclassName={ placeholderClassName }\n\t\t\t\tnotices={ notices }\n\t\t\t\tonDoubleClick={ onDoubleClick }\n\t\t\t\tpreview={ mediaPreview }\n\t\t\t\tstyle={ style }\n\t\t\t>\n\t\t\t\t{ content }\n\t\t\t\t{ children }\n\t\t\t</Placeholder>\n\t\t);\n\t};\n\tconst renderPlaceholder = placeholder ?? defaultRenderPlaceholder;\n\n\tconst renderDropZone = () => {\n\t\tif ( disableDropZone ) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn (\n\t\t\t<DropZone onFilesDrop={ onFilesUpload } onHTMLDrop={ onHTMLDrop } />\n\t\t);\n\t};\n\n\tconst renderCancelLink = () => {\n\t\treturn (\n\t\t\tonCancel && (\n\t\t\t\t<Button\n\t\t\t\t\tclassName=\"block-editor-media-placeholder__cancel-button\"\n\t\t\t\t\ttitle={ __( 'Cancel' ) }\n\t\t\t\t\tvariant=\"link\"\n\t\t\t\t\tonClick={ onCancel }\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t</Button>\n\t\t\t)\n\t\t);\n\t};\n\n\tconst renderUrlSelectionUI = () => {\n\t\treturn (\n\t\t\tonSelectURL && (\n\t\t\t\t<URLSelectionUI\n\t\t\t\t\tisURLInputVisible={ isURLInputVisible }\n\t\t\t\t\tsrc={ src }\n\t\t\t\t\tonChangeSrc={ onChangeSrc }\n\t\t\t\t\tonSubmitSrc={ onSubmitSrc }\n\t\t\t\t\topenURLInput={ openURLInput }\n\t\t\t\t\tcloseURLInput={ closeURLInput }\n\t\t\t\t/>\n\t\t\t)\n\t\t);\n\t};\n\n\tconst renderFeaturedImageToggle = () => {\n\t\treturn (\n\t\t\tonToggleFeaturedImage && (\n\t\t\t\t<div className=\"block-editor-media-placeholder__url-input-container\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\tclassName=\"block-editor-media-placeholder__button\"\n\t\t\t\t\t\tonClick={ onToggleFeaturedImage }\n\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Use featured image' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t)\n\t\t);\n\t};\n\n\tconst renderMediaUploadChecked = () => {\n\t\tconst defaultButton = ( { open } ) => {\n\t\t\treturn (\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\topen();\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Media Library' ) }\n\t\t\t\t</Button>\n\t\t\t);\n\t\t};\n\t\tconst libraryButton = mediaLibraryButton ?? defaultButton;\n\t\tconst uploadMediaLibraryButton = (\n\t\t\t<MediaUpload\n\t\t\t\taddToGallery={ addToGallery }\n\t\t\t\tgallery={ multiple && onlyAllowsImages() }\n\t\t\t\tmultiple={ multiple }\n\t\t\t\tonSelect={ onSelect }\n\t\t\t\tallowedTypes={ allowedTypes }\n\t\t\t\tmode={ 'browse' }\n\t\t\t\tvalue={\n\t\t\t\t\tArray.isArray( value )\n\t\t\t\t\t\t? value.map( ( { id } ) => id )\n\t\t\t\t\t\t: value.id\n\t\t\t\t}\n\t\t\t\trender={ libraryButton }\n\t\t\t/>\n\t\t);\n\n\t\tif ( mediaUpload && isAppender ) {\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t{ renderDropZone() }\n\t\t\t\t\t<FormFileUpload\n\t\t\t\t\t\tonChange={ onUpload }\n\t\t\t\t\t\taccept={ accept }\n\t\t\t\t\t\tmultiple={ multiple }\n\t\t\t\t\t\trender={ ( { openFileDialog } ) => {\n\t\t\t\t\t\t\tconst content = (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\t\t\t\t\t'block-editor-media-placeholder__button',\n\t\t\t\t\t\t\t\t\t\t\t'block-editor-media-placeholder__upload-button'\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\tonClick={ openFileDialog }\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{ __( 'Upload' ) }\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t{ uploadMediaLibraryButton }\n\t\t\t\t\t\t\t\t\t{ renderUrlSelectionUI() }\n\t\t\t\t\t\t\t\t\t{ renderFeaturedImageToggle() }\n\t\t\t\t\t\t\t\t\t{ renderCancelLink() }\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\treturn renderPlaceholder( content );\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\t\t\t\t</>\n\t\t\t);\n\t\t}\n\n\t\tif ( mediaUpload ) {\n\t\t\tconst content = (\n\t\t\t\t<>\n\t\t\t\t\t{ renderDropZone() }\n\t\t\t\t\t<FormFileUpload\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\t'block-editor-media-placeholder__button',\n\t\t\t\t\t\t\t'block-editor-media-placeholder__upload-button'\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tonChange={ onUpload }\n\t\t\t\t\t\taccept={ accept }\n\t\t\t\t\t\tmultiple={ multiple }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Upload' ) }\n\t\t\t\t\t</FormFileUpload>\n\t\t\t\t\t{ uploadMediaLibraryButton }\n\t\t\t\t\t{ renderUrlSelectionUI() }\n\t\t\t\t\t{ renderFeaturedImageToggle() }\n\t\t\t\t\t{ renderCancelLink() }\n\t\t\t\t</>\n\t\t\t);\n\t\t\treturn renderPlaceholder( content );\n\t\t}\n\n\t\treturn renderPlaceholder( uploadMediaLibraryButton );\n\t};\n\n\tif ( disableMediaButtons ) {\n\t\treturn <MediaUploadCheck>{ renderDropZone() }</MediaUploadCheck>;\n\t}\n\n\treturn (\n\t\t<MediaUploadCheck\n\t\t\tfallback={ renderPlaceholder( renderUrlSelectionUI() ) }\n\t\t>\n\t\t\t{ renderMediaUploadChecked() }\n\t\t</MediaUploadCheck>\n\t);\n}\n\n/**\n * @see https://github.com/WordPress/gutenberg/blob/HEAD/packages/block-editor/src/components/media-placeholder/README.md\n */\nexport default withFilters( 'editor.MediaPlaceholder' )( MediaPlaceholder );\n"]}