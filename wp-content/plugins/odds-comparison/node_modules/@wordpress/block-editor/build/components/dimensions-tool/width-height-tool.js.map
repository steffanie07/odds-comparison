{"version":3,"sources":["@wordpress/block-editor/src/components/dimensions-tool/width-height-tool.js"],"names":["SingleColumnToolsPanelItem","ToolsPanelItem","WidthHeightTool","panelId","value","onChange","units","isShownByDefault","width","height","onDimensionChange","dimension","nextDimension","nextValue"],"mappings":";;;;;;;;;;;;;AAQA;;AAIA;;;;AAEA,MAAMA,0BAA0B,GAAG,iCAAQC,wCAAR;AAAA;AAAA;AAAA;AAAA;AAAA,EAAH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAAhC;AAIA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AACe,SAASC,eAAT,CAA0B;AACxCC,EAAAA,OADwC;AAExCC,EAAAA,KAAK,GAAG,EAFgC;AAGxCC,EAAAA,QAAQ,GAAG,MAAM,CAAE,CAHqB;AAIxCC,EAAAA,KAJwC;AAKxCC,EAAAA,gBAAgB,GAAG;AALqB,CAA1B,EAMX;AAAA;;AACH;AACA,QAAMC,KAAK,GAAGJ,KAAK,CAACI,KAAN,KAAgB,MAAhB,GAAyB,EAAzB,mBAA8BJ,KAAK,CAACI,KAApC,uDAA6C,EAA3D;AACA,QAAMC,MAAM,GAAGL,KAAK,CAACK,MAAN,KAAiB,MAAjB,GAA0B,EAA1B,oBAA+BL,KAAK,CAACK,MAArC,yDAA+C,EAA9D;;AAEA,QAAMC,iBAAiB,GAAKC,SAAF,IAAmBC,aAAF,IAAqB;AAC/D,UAAMC,SAAS,GAAG,EAAE,GAAGT;AAAL,KAAlB,CAD+D,CAE/D;;AACA,QAAK,CAAEQ,aAAP,EAAuB;AACtB,aAAOC,SAAS,CAAEF,SAAF,CAAhB;AACA,KAFD,MAEO;AACNE,MAAAA,SAAS,CAAEF,SAAF,CAAT,GAAyBC,aAAzB;AACA;;AACDP,IAAAA,QAAQ,CAAEQ,SAAF,CAAR;AACA,GATD;;AAWA,SACC,qDACC,4BAAC,0BAAD;AACC,IAAA,KAAK,EAAG,cAAI,OAAJ,CADT;AAEC,IAAA,gBAAgB,EAAGN,gBAFpB;AAGC,IAAA,QAAQ,EAAG,MAAMC,KAAK,KAAK,EAH5B;AAIC,IAAA,UAAU,EAAGE,iBAAiB,CAAE,OAAF,CAJ/B;AAKC,IAAA,OAAO,EAAGP;AALX,KAOC,4BAAC,qCAAD;AACC,IAAA,KAAK,EAAG,cAAI,OAAJ,CADT;AAEC,IAAA,WAAW,EAAG,cAAI,MAAJ,CAFf;AAGC,IAAA,aAAa,EAAC,KAHf;AAIC,IAAA,KAAK,EAAGG,KAJT;AAKC,IAAA,GAAG,EAAG,CALP;AAMC,IAAA,KAAK,EAAGE,KANT;AAOC,IAAA,QAAQ,EAAGE,iBAAiB,CAAE,OAAF,CAP7B;AAQC,IAAA,IAAI,EAAG;AARR,IAPD,CADD,EAmBC,4BAAC,0BAAD;AACC,IAAA,KAAK,EAAG,cAAI,QAAJ,CADT;AAEC,IAAA,gBAAgB,EAAGH,gBAFpB;AAGC,IAAA,QAAQ,EAAG,MAAME,MAAM,KAAK,EAH7B;AAIC,IAAA,UAAU,EAAGC,iBAAiB,CAAE,QAAF,CAJ/B;AAKC,IAAA,OAAO,EAAGP;AALX,KAOC,4BAAC,qCAAD;AACC,IAAA,KAAK,EAAG,cAAI,QAAJ,CADT;AAEC,IAAA,WAAW,EAAG,cAAI,MAAJ,CAFf;AAGC,IAAA,aAAa,EAAC,KAHf;AAIC,IAAA,KAAK,EAAGG,KAJT;AAKC,IAAA,GAAG,EAAG,CALP;AAMC,IAAA,KAAK,EAAGG,MANT;AAOC,IAAA,QAAQ,EAAGC,iBAAiB,CAAE,QAAF,CAP7B;AAQC,IAAA,IAAI,EAAG;AARR,IAPD,CAnBD,CADD;AAwCA","sourcesContent":["/**\n * External dependencies\n */\nimport styled from '@emotion/styled';\n\n/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalToolsPanelItem as ToolsPanelItem,\n\t__experimentalUnitControl as UnitControl,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\nconst SingleColumnToolsPanelItem = styled( ToolsPanelItem )`\n\tgrid-column: span 1;\n`;\n\n/**\n * @typedef {import('@wordpress/components/build-types/unit-control/types').WPUnitControlUnit} WPUnitControlUnit\n */\n\n/**\n * @typedef {Object} WidthHeightToolValue\n * @property {string} [width]  Width CSS value.\n * @property {string} [height] Height CSS value.\n */\n\n/**\n * @callback WidthHeightToolOnChange\n * @param {WidthHeightToolValue} nextValue Next dimensions value.\n * @return {void}\n */\n\n/**\n * @typedef {Object} WidthHeightToolProps\n * @property {string}                  [panelId]          ID of the panel that contains the controls.\n * @property {WidthHeightToolValue}    [value]            Current dimensions values.\n * @property {WidthHeightToolOnChange} [onChange]         Callback to update the dimensions values.\n * @property {WPUnitControlUnit[]}     [units]            Units options.\n * @property {boolean}                 [isShownByDefault] Whether the panel is shown by default.\n */\n\n/**\n * Component that renders controls to edit the dimensions of an image or container.\n *\n * @param {WidthHeightToolProps} props The component props.\n *\n * @return {import('@wordpress/element').WPElement} The width and height tool.\n */\nexport default function WidthHeightTool( {\n\tpanelId,\n\tvalue = {},\n\tonChange = () => {},\n\tunits,\n\tisShownByDefault = true,\n} ) {\n\t// null, undefined, and 'auto' all represent the default value.\n\tconst width = value.width === 'auto' ? '' : value.width ?? '';\n\tconst height = value.height === 'auto' ? '' : value.height ?? '';\n\n\tconst onDimensionChange = ( dimension ) => ( nextDimension ) => {\n\t\tconst nextValue = { ...value };\n\t\t// Empty strings or undefined may be passed and both represent removing the value.\n\t\tif ( ! nextDimension ) {\n\t\t\tdelete nextValue[ dimension ];\n\t\t} else {\n\t\t\tnextValue[ dimension ] = nextDimension;\n\t\t}\n\t\tonChange( nextValue );\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<SingleColumnToolsPanelItem\n\t\t\t\tlabel={ __( 'Width' ) }\n\t\t\t\tisShownByDefault={ isShownByDefault }\n\t\t\t\thasValue={ () => width !== '' }\n\t\t\t\tonDeselect={ onDimensionChange( 'width' ) }\n\t\t\t\tpanelId={ panelId }\n\t\t\t>\n\t\t\t\t<UnitControl\n\t\t\t\t\tlabel={ __( 'Width' ) }\n\t\t\t\t\tplaceholder={ __( 'Auto' ) }\n\t\t\t\t\tlabelPosition=\"top\"\n\t\t\t\t\tunits={ units }\n\t\t\t\t\tmin={ 0 }\n\t\t\t\t\tvalue={ width }\n\t\t\t\t\tonChange={ onDimensionChange( 'width' ) }\n\t\t\t\t\tsize={ '__unstable-large' }\n\t\t\t\t/>\n\t\t\t</SingleColumnToolsPanelItem>\n\t\t\t<SingleColumnToolsPanelItem\n\t\t\t\tlabel={ __( 'Height' ) }\n\t\t\t\tisShownByDefault={ isShownByDefault }\n\t\t\t\thasValue={ () => height !== '' }\n\t\t\t\tonDeselect={ onDimensionChange( 'height' ) }\n\t\t\t\tpanelId={ panelId }\n\t\t\t>\n\t\t\t\t<UnitControl\n\t\t\t\t\tlabel={ __( 'Height' ) }\n\t\t\t\t\tplaceholder={ __( 'Auto' ) }\n\t\t\t\t\tlabelPosition=\"top\"\n\t\t\t\t\tunits={ units }\n\t\t\t\t\tmin={ 0 }\n\t\t\t\t\tvalue={ height }\n\t\t\t\t\tonChange={ onDimensionChange( 'height' ) }\n\t\t\t\t\tsize={ '__unstable-large' }\n\t\t\t\t/>\n\t\t\t</SingleColumnToolsPanelItem>\n\t\t</>\n\t);\n}\n"]}